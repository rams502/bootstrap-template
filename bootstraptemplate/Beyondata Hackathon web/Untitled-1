CREATE SEQUENCE userseq start 1;
CREATE TABLE  tbluser  (
	user_id  integer DEFAULT nextval('userseq') ,
	user_firstname  varchar(100),
	user_lastname  varchar(100) ,
	user_email  varchar(512) ,
	user_phone  varchar(15),
	user_dob  varchar(12),
	user_aadharid  varchar(56),
	user_address  varchar(2048),
	user_const_id  integer,
	createdttm   timestamp with time zone DEFAULT current_timestamp,
	updatedttm  timestamp with time zone DEFAULT current_timestamp,
	CONSTRAINT tbluser_pk PRIMARY KEY ( user_id )
);

CREATE SEQUENCE consseq start 1;
CREATE TABLE  tblconstitution  (
	const_id  integer DEFAULT nextval('consseq ') ,
	const_name  varchar(512),
	createdttm   timestamp with time zone DEFAULT current_timestamp,
	updatedttm  timestamp with time zone DEFAULT current_timestamp,
	CONSTRAINT tblconstitution_pk PRIMARY KEY ( const_id )
);

INSERT INTO tblconstitution(const_name) values ('Gachibowli');
INSERT INTO tblconstitution(const_name) values ('Malkajgiri');
INSERT INTO tblconstitution(const_name) values ('Nampalley');
INSERT INTO tblconstitution(const_name) values ('Himayat Nagar');





//--------------------------------- mp table ---------------------------------------------------

CREATE SEQUENCE mpseq start 1;
CREATE TABLE  tblmp  (
	mp_id  integer DEFAULT nextval('mpseq') ,
	mp_name  varchar(100),
	mp_email  varchar(512) ,
	mp_phone  varchar(15),
	const_id  integer,
	createdttm   timestamp with time zone DEFAULT current_timestamp,
	updatedttm  timestamp with time zone DEFAULT current_timestamp,
	CONSTRAINT tblmp_pk PRIMARY KEY ( mp_id )
);

INSERT INTO tblmp(mp_name,mp_email,mp_phone,const_id) values ('rana dagubati','rana@gmail.com','7777777777',1);
INSERT INTO tblmp(mp_name,mp_email,mp_phone,const_id) values ('kalyan ram','kalyan@gmail.com','8888888888',2);
INSERT INTO tblmp(mp_name,mp_email,mp_phone,const_id) values ('nani','nani@gmail.com','6666666666',3);
INSERT INTO tblmp(mp_name,mp_email,mp_phone,const_id) values ('nithin','nithin@gmail.com','4444444444',4);










CREATE SEQUENCE verifyseq start 1;
CREATE TABLE  tbluserverify  (
    verify_id integer DEFAULT nextval('verifyseq'),
	user_id  integer,
	otp  varchar(10) ,
	createdttm   timestamp with time zone DEFAULT current_timestamp,
	updatedttm  timestamp with time zone DEFAULT current_timestamp
);

CREATE SEQUENCE usertrancseq start 1;
CREATE TABLE  tblusertransaction  (
	seq_id  integer DEFAULT nextval('usertrancseq ') ,
	user_id  integer,
	trn_id  integer,
	createdttm   timestamp with time zone DEFAULT current_timestamp,
	updatedttm  timestamp with time zone DEFAULT current_timestamp,
    CONSTRAINT tblusertransaction_pk PRIMARY KEY ( seq_id )
);


CREATE SEQUENCE transseq start 1;
CREATE TABLE  tbltransaction  (
	trn_id  integer DEFAULT nextval('transseq') ,
	trn_text  varchar(100),
	trn_subject  varchar(100) ,
	user_id  integer ,
	mp_id  integer,
	const_id  integer,
	problem_id  varchar(56),
	status  integer,
	createdttm   timestamp with time zone DEFAULT current_timestamp,
	updatedttm  timestamp with time zone DEFAULT current_timestamp,
	CONSTRAINT tbltransaction_pk PRIMARY KEY ( trn_id )
);

CREATE SEQUENCE probseq start 1;
CREATE TABLE  tblproblem  (
	problem_id  integer DEFAULT nextval('probseq ') ,
	problem_text  varchar(1024),
	status  integer,
	createdttm   timestamp with time zone DEFAULT current_timestamp,
	updatedttm  timestamp with time zone DEFAULT current_timestamp,
    CONSTRAINT tblproblem_pk PRIMARY KEY ( problem_id )
);

INSERT INTO tblproblem(problem_text,status) values ('Pot holes',0);
INSERT INTO tblproblem(problem_text,status) values ('Uncleaned drinages',0);
INSERT INTO tblproblem(problem_text,status) values ('Stray Animals',0);
INSERT INTO tblproblem(problem_text,status) values ('Garbage',0);
INSERT INTO tblproblem(problem_text,status) values ('Parks and Schools',0);


CREATE SEQUENCE adminseq start 1;
CREATE TABLE  tbladmin  (
	admin_id  integer DEFAULT nextval('adminseq') ,
	admin_email  varchar(512),
	admin_password  varchar(512),
	status  integer,
	createdttm   timestamp with time zone DEFAULT current_timestamp,
	updatedttm timestamp with time zone DEFAULT current_timestamp,
     CONSTRAINT tbladmin_pk PRIMARY KEY ( admin_id )
    
);